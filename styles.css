:root{ --bg-image: url('assets/bliss.jpg') }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,Segoe UI,Arial,sans-serif;color:#fff}
.desktop{ position:relative; min-height:100dvh; display:flex; flex-direction:column; background-image: var(--bg-image); background-size: cover; background-position:center; background-repeat:no-repeat; padding-bottom:60px }
@supports (padding-bottom: env(safe-area-inset-bottom)){ .desktop{ padding-bottom: calc(60px + env(safe-area-inset-bottom)) } }
.bg-video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; pointer-events:none }
@media (prefers-reduced-motion: reduce){ .bg-video{ display:none } }
.wordart{ position:absolute; top: clamp(12px, 6vh, 64px); right: clamp(8px, 4vw, 48px); width:min(36vw,420px); height:auto; z-index:2; pointer-events:none; filter: drop-shadow(0 8px 24px rgba(0,0,0,.35)) }
.desktop-icons{ position:relative; z-index:3; display:grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap:16px 8px; padding:16px }
.icon{ width:110px; text-decoration:none; display:flex; flex-direction:column; align-items:center; gap:8px; padding:6px 4px 10px; border-radius:10px; border:1px solid transparent; color:#e8f2ff }
.icon .label{ display:block; text-align:center; font-size:12px; text-shadow:0 2px 2px rgba(0,0,0,.55) }
.desk-img{ width:72px; height:auto; image-rendering: crisp-edges; display:block }
.taskbar{ position:fixed; bottom:0; left:0; right:0; height:56px; background:#245edb; display:flex; align-items:center; gap:10px; padding:6px 8px; z-index:1000 }
.start-button,.task{ background:none; border:none; padding:0 }
.start-img{ height:48px; display:block } .task-img{ height:44px; display:block } .tray{ margin-left:auto; display:flex; align-items:center; justify-content:flex-end; height:100% } .tray-img{ height:48px; display:block }
.intro{ position: fixed; inset:0; background:#000; z-index:2000; opacity:1; transition: opacity .45s ease, visibility 0s linear .5s; visibility:visible }
.intro.hidden{ opacity:0; visibility:hidden }
.glitch{ position:absolute; inset:0; background-image: var(--intro-img); background-size: cover; background-position:center }
.intro::after{ content:''; position:absolute; inset:0; pointer-events:none; background: repeating-linear-gradient(to bottom, rgba(0,0,0,.25) 0px, rgba(0,0,0,.25) 2px, rgba(0,0,0,0) 3px, rgba(0,0,0,0) 4px); mix-blend-mode:multiply; opacity:.35; animation: flicker .9s steps(2,end) 0s 2 }
.glitch::before, .glitch::after{ content:''; position:absolute; inset:0; background-image: var(--intro-img); background-size:cover; background-position:center; mix-blend-mode: screen; opacity:.9; animation-play-state: paused }
.intro.glitching .glitch::before, .intro.glitching .glitch::after{ animation-play-state: running }
.glitch::before{ filter: hue-rotate(25deg) saturate(1.3) contrast(1.1); animation: glitchTop 1.2s steps(1,end) both }
.glitch::after{ filter: hue-rotate(-25deg) saturate(1.4) contrast(1.15); animation: glitchBot 1.2s steps(1,end) both }
@keyframes glitchTop{ 0%{ clip-path: inset(0 0 70% 0); transform: translateX(0) } 100%{ clip-path: inset(0 0 100% 0); transform: translateX(0) } }
@keyframes glitchBot{ 0%{ clip-path: inset(70% 0 0 0); transform: translateX(0) } 100%{ clip-path: inset(100% 0 0 0); transform: translateX(0) } }
@keyframes flicker{ 0%,100%{opacity:.35} 50%{opacity:.2} }

/* === Reminder popup (retro) === */
.reminder-modal{ position: fixed; inset: 0; z-index: 1700; display: none; align-items: flex-start; justify-content: center; padding-top: min(18vh, 140px); pointer-events:none }
.reminder-modal.show{ display:flex; pointer-events:auto }
.reminder-card, .info-card{ background:#cfcfcf; color:#111; border:2px solid #000; box-shadow:0 10px 28px rgba(0,0,0,.4); width:min(92vw,760px); max-width:760px; border-radius:2px; overflow:hidden }
.reminder-titlebar, .info-titlebar{ background:#0d2e8a; color:#fff; padding:8px 14px; font-weight:700; letter-spacing:.2px }
.reminder-body, .info-body{ padding: clamp(16px, 3.2vw, 28px); text-align:left; font-size:clamp(16px,2.3vw,22px); line-height:1.35 }
.reminder-body p{ margin:0 0 18px }
.reminder-ok, .info-ok{ appearance:none; border:2px solid #111; background:transparent; border-radius:2px; padding:10px 26px; margin:10px auto 0; display:block; font-weight:800; letter-spacing:.5px; cursor:pointer }
.reminder-ok:hover, .info-ok:hover{ background:#e6e6e6 } .reminder-ok:active, .info-ok:active{ transform: translateY(1px) }


/* === XP look for reminder popup === */
.reminder-card, .info-card{
  font-family: "MS Sans Serif","Microsoft Sans Serif",Tahoma,Verdana,sans-serif;
  background: #cfcfcf;
  border: 2px solid #000;         /* outer dark border */
  border-radius: 0;
  position: relative;
  box-shadow: 0 12px 30px rgba(0,0,0,.45);
}
/* inner 3D frame (light top/left, dark bottom/right) */
.reminder-card::before, .info-card::before{
  content:"";
  position:absolute; inset:2px;
  border-top: 1px solid #ffffff;
  border-left: 1px solid #ffffff;
  border-right: 1px solid #7a7a7a;
  border-bottom: 1px solid #7a7a7a;
  pointer-events:none;
}
.reminder-titlebar, .info-titlebar{
  background: linear-gradient(#2b61d1, #1a44a6);
  color: #fff;
  padding: 6px 12px;
  font-weight: 700;
  border-bottom: 1px solid #0c2b77;   /* seam under titlebar */
  letter-spacing: 0;
  font-family: "MS Sans Serif","Microsoft Sans Serif",Tahoma,Verdana,sans-serif;
}
.reminder-body, .info-body{
  padding: 18px 22px 24px;
  font-family: "MS Sans Serif","Microsoft Sans Serif",Tahoma,Verdana,sans-serif;
  font-size: 18px;
  line-height: 1.35;
}
.reminder-body p{ margin: 0 0 18px }

/* Beveled XP button */
.reminder-ok, .info-ok{
  appearance:none;
  font-family: "MS Sans Serif","Microsoft Sans Serif",Tahoma,Verdana,sans-serif;
  background: linear-gradient(#f3f3f3, #dddddd);
  border-top: 1px solid #ffffff;      /* 3D bevel light */
  border-left: 1px solid #ffffff;
  border-right: 1px solid #404040;    /* 3D bevel shadow */
  border-bottom: 1px solid #404040;
  border-radius: 2px;
  padding: 8px 28px;
  margin: 8px auto 0;
  display: block;
  font-weight: 700;
  letter-spacing: 0;
  cursor: pointer;
  min-width: 96px;
  color: #000;
}
.reminder-ok:hover, .info-ok:hover{ background: linear-gradient(#ffffff, #e6e6e6) }
.reminder-ok:active, .info-ok:active{
  background: linear-gradient(#dcdcdc, #f0f0f0);
  border-top: 1px solid #404040;
  border-left: 1px solid #404040;
  border-right: 1px solid #ffffff;
  border-bottom: 1px solid #ffffff;
}
.reminder-ok:focus, .info-ok:focus{ outline: 1px dotted #000; outline-offset: -4px }


/* === Info text popup container === */
.info-modal{
  position: fixed;
  inset: 0;
  z-index: 1700; /* above taskbar, below intro */
  display: none;
  align-items: flex-start;
  justify-content: center;
  padding-top: min(14vh, 120px);
  pointer-events: none;
}
.info-modal.show{ display: flex; pointer-events: auto; }


/* === Infos modal: responsive text + scroll === */
.info-card{
  display: flex;
  flex-direction: column;
  max-height: min(86vh, 760px);
}
.info-body{
  flex: 1 1 auto;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  font-size: clamp(14px, 1.9vw, 17px);
  padding: 14px 18px;
}
.info-actions{
  padding: 10px 16px 14px;
  display: flex;
  justify-content: center;
  background: #cfcfcf;
  border-top: 1px solid #7a7a7a;
}
@media (max-width: 640px){
  .info-modal{ padding-top: min(8vh, 60px) }
  .info-body{ font-size: 14px; padding: 12px 14px }
  .info-actions{ padding: 10px 12px 12px }
}



/* Taskbar link button */
.task-buttons a.task{ text-decoration: none; display: inline-block; }

/* Rappel modal: responsive text + scroll + sticky OK */
.reminder-card{
  display: flex;
  flex-direction: column;
  max-height: min(80vh, 680px);
}
.reminder-body{
  flex: 1 1 auto;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  font-size: clamp(14px, 1.9vw, 17px);
}
.reminder-ok{
  position: sticky;
  bottom: 0;
  background-clip: padding-box;
  margin-bottom: 0.25rem;
}
@media (max-width: 640px){
  .reminder-body{ font-size: 14px; }
}



/* Wordart responsive behavior: below icons on mobile */
@media (max-width: 640px){
  .desktop{ display:flex; flex-direction:column; }
  .desktop-icons{ order: 1; }
  .wordart{
    position: static;
    order: 2;
    width: min(90vw, 360px);
    margin: 12px auto 0;
    right: auto; top: auto;
  }
}



/* === Intro splash glitch === */
.intro{
  position: fixed; inset: 0; background: #000; z-index: 2000;
  opacity: 1; transition: opacity .45s ease, visibility 0s linear .5s; visibility: visible;
}
.intro.hidden{ opacity: 0; visibility: hidden }
.glitch{ position: absolute; inset: 0; background-image: var(--intro-img); background-size: cover; background-position: center }
.intro::after{ content:''; position:absolute; inset:0; pointer-events:none;
  background: repeating-linear-gradient(to bottom, rgba(0,0,0,.25) 0px, rgba(0,0,0,.25) 2px, rgba(0,0,0,0) 3px, rgba(0,0,0,0) 4px);
  mix-blend-mode: multiply; opacity:.35; animation: flicker .9s steps(2,end) 0s 2;
}
.glitch::before, .glitch::after{
  content:''; position:absolute; inset:0; background-image: var(--intro-img);
  background-size: cover; background-position: center; mix-blend-mode: screen; opacity:.9;
  animation-play-state: paused;
}
.intro.glitching .glitch::before, .intro.glitching .glitch::after{ animation-play-state: running }
.glitch::before{
  filter: hue-rotate(25deg) saturate(1.3) contrast(1.1);
  animation: glitchTop 1.2s steps(1,end) both;
}
.glitch::after{
  filter: hue-rotate(-25deg) saturate(1.4) contrast(1.15);
  animation: glitchBot 1.2s steps(1,end) both;
}
@keyframes glitchTop{
  0%   { clip-path: inset(0 0 70% 0); transform: translateX(0) }
  6%   { clip-path: inset(0 0 72% 0); transform: translateX(-10px) }
  12%  { clip-path: inset(0 0 65% 0); transform: translateX(8px) }
  22%  { clip-path: inset(0 0 75% 0); transform: translateX(-16px) }
  32%  { clip-path: inset(0 0 60% 0); transform: translateX(6px) }
  46%  { clip-path: inset(0 0 70% 0); transform: translateX(-12px) }
  60%  { clip-path: inset(0 0 65% 0); transform: translateX(12px) }
  78%  { clip-path: inset(0 0 80% 0); transform: translateX(-18px) }
  92%  { clip-path: inset(0 0 68% 0); transform: translateX(10px) }
  100% { clip-path: inset(0 0 100% 0); transform: translateX(0) }
}
@keyframes glitchBot{
  0%   { clip-path: inset(70% 0 0 0); transform: translateX(0) }
  6%   { clip-path: inset(72% 0 0 0); transform: translateX(12px) }
  12%  { clip-path: inset(65% 0 0 0); transform: translateX(-8px) }
  22%  { clip-path: inset(75% 0 0 0); transform: translateX(16px) }
  32%  { clip-path: inset(60% 0 0 0); transform: translateX(-6px) }
  46%  { clip-path: inset(70% 0 0 0); transform: translateX(14px) }
  60%  { clip-path: inset(65% 0 0 0); transform: translateX(-10px) }
  78%  { clip-path: inset(80% 0 0 0); transform: translateX(18px) }
  92%  { clip-path: inset(68% 0 0 0); transform: translateX(-10px) }
  100% { clip-path: inset(100% 0 0 0); transform: translateX(0) }
}
@keyframes flicker{ 0%,100%{ opacity:.35 } 50%{ opacity:.2 } }
/* Flash cut */
.intro .flash{ position:absolute; inset:0; background:#fff; opacity:0; pointer-events:none }
.intro .flash.show{ animation: flashCut .12s ease both }
@keyframes flashCut{ 0%{opacity:0} 10%{opacity:1} 100%{opacity:0} }

